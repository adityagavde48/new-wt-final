<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Project Manager Setup</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="manager-setup.css" />
</head>
<body>

<div class="page-wrapper">
  <div class="card-main">
    <div class="glow-orb"></div>

    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div>
        <h2 class="page-title mb-1">Project Manager Setup</h2>
        <p class="text-muted small mb-0">
          Define requirements, tasks, and assignments
        </p>
      </div>
      <span class="step-pill" id="stepLabel">Step 1 of 3</span>
    </div>

    <!-- Stepper -->
    <div class="stepper mb-4">
      <div class="step-item active">
        <div class="circle">1</div>
        <span>Requirements</span>
      </div>
      <div class="step-line"></div>
      <div class="step-item">
        <div class="circle">2</div>
        <span>Tasks</span>
      </div>
      <div class="step-line"></div>
      <div class="step-item">
        <div class="circle">3</div>
        <span>Team & Assign</span>
      </div>
    </div>

    <!-- ================= STEP 1 ================= -->
    <div id="step1" class="step-panel active">
      <h5 class="section-title">Project Details</h5>

      <div class="mb-3">
        <label class="form-label text-muted small">Title</label>
        <p class="form-static" id="projectTitleDisplay">Loading...</p>
      </div>

      <div class="mb-3">
        <label class="form-label text-muted small">Description</label>
        <p class="form-static" id="projectDescriptionDisplay">Loading...</p>
      </div>

      <div class="mb-3">
        <label class="form-label text-muted small">Requirement File</label><br />
        <a
          id="projectFileLink"
          class="btn btn-sm btn-outline-light rounded-pill"
          target="_blank"
        >
          Download Requirement PDF
        </a>
      </div>

      <hr class="soft-divider" />

      <h6>Manager Requirements</h6>
      <div class="input-group mb-2">
        <input
          id="reqInput"
          class="form-control"
          placeholder="Add requirement point"
        />
        <button class="btn btn-outline-light" id="addReqBtn">Add</button>
      </div>

      <ul class="list-group small" id="reqList"></ul>

      <div class="text-end mt-4">
        <button class="btn btn-primary-gradient" id="goToStep2Btn">
          Next: Tasks →
        </button>
      </div>
    </div>

    <!-- ================= STEP 2 ================= -->
    <div id="step2" class="step-panel">
      <h5 class="section-title">Tasks</h5>
      <p class="text-muted small">
        Tasks are auto-numbered (Task 1, Task 2, ...)
      </p>

      <div class="row g-2 mb-3">
        <div class="col-md-3">
          <input
            id="taskTitleInput"
            class="form-control"
            placeholder="Task title"
          />
        </div>

        <div class="col-md-3">
          <input
            id="taskDescriptionInput"
            class="form-control"
            placeholder="Description"
          />
        </div>

        <div class="col-md-3">
          <input
            type="date"
            id="taskDeadlineInput"
            class="form-control"
          />
        </div>

        <div class="col-md-1 d-grid">
          <button class="btn btn-outline-light" id="addTaskBtn">+</button>
        </div>
      </div>

      <div class="table-responsive">
        <table class="table table-sm table-dark">
          <thead>
            <tr>
              <th>#</th>
              <th>Task</th>
              <th>Deadline</th>
            </tr>
          </thead>
          <tbody id="tasksTable"></tbody>
        </table>
      </div>

      <div class="d-flex justify-content-between mt-4">
        <button class="btn btn-outline-light" id="backToStep1Btn">
          ← Back
        </button>
        <button class="btn btn-primary-gradient" id="goToStep3Btn">
          Next: Team →
        </button>
      </div>
    </div>

    <!-- ================= STEP 3 ================= -->
    <div id="step3" class="step-panel">
      <h5 class="section-title">Team & Assign Tasks</h5>

      <div class="mb-3">
        <label class="form-label">Add Team Member</label>
        <div class="input-group">
          <input
             id="memberEmailInput"
            class="form-control"
            placeholder="member@email.com"
            list="memberEmailSuggestions"
          />
          <datalist id="memberEmailSuggestions"></datalist>
          <button class="btn btn-outline-light" id="addMemberBtn">
            Add
          </button>
        </div>
      </div>

      <ul class="list-group small mb-3" id="teamList"></ul>

      <hr class="soft-divider" />

      <h6>Assign Tasks</h6>
      <div class="row g-2 mb-3">
        <div class="col-md-5">
          <select id="taskSelect" class="form-select"></select>
        </div>
        <div class="col-md-5">
          <select id="memberSelect" class="form-select"></select>
        </div>
        <div class="col-md-2 d-grid">
          <button class="btn btn-outline-light" id="assignTaskBtn">
            Assign
          </button>
        </div>
      </div>

      <ul class="list-group small mb-3" id="assignmentList"></ul>

      <div class="mb-3">
        <label class="form-label">
          Project Deadline <span class="text-danger">*</span>
        </label>
        <input
          type="date"
          id="projectDeadlineInput"
          class="form-control"
        />
      </div>

      <div class="d-flex justify-content-between mt-4">
        <button class="btn btn-outline-light" id="backToStep2Btn">
          ← Back
        </button>
        <button class="btn btn-primary-gradient" id="submitSetupBtn">
          Submit & Notify ✔
        </button>
      </div>
    </div>

  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Custom JS -->
<script src="manager-setup.js"></script>
</body>
</html>
